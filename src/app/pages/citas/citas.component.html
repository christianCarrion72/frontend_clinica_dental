<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
  <!-- Header -->
  <div class="max-w-7xl mx-auto">
    <div class="bg-white rounded-lg shadow-2xl p-8 mb-8">
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Gestión de Citas</h1>
      <p class="text-gray-600">Calendario de citas dentales - Haz clic en un día para ver las citas</p>
    </div>

    <!-- Calendario Principal -->
    <div class="bg-white rounded-lg shadow-2xl overflow-hidden">
      <!-- Navegación de meses -->
      <div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6 flex justify-between items-center">
        <button
          (click)="previousMonth()"
          class="bg-white text-blue-600 hover:bg-blue-50 font-bold py-2 px-4 rounded-lg transition-colors"
        >
          ← Anterior
        </button>
        <h2 class="text-3xl font-bold text-white">{{ monthName }}</h2>
        <button
          (click)="nextMonth()"
          class="bg-white text-blue-600 hover:bg-blue-50 font-bold py-2 px-4 rounded-lg transition-colors"
        >
          Siguiente →
        </button>
      </div>

      <!-- Días de la semana -->
      <div class="grid grid-cols-7 bg-gray-200">
        <div class="p-4 text-center font-bold text-gray-700">Dom</div>
        <div class="p-4 text-center font-bold text-gray-700">Lun</div>
        <div class="p-4 text-center font-bold text-gray-700">Mar</div>
        <div class="p-4 text-center font-bold text-gray-700">Mié</div>
        <div class="p-4 text-center font-bold text-gray-700">Jue</div>
        <div class="p-4 text-center font-bold text-gray-700">Vie</div>
        <div class="p-4 text-center font-bold text-gray-700">Sáb</div>
      </div>

      <!-- Días del mes -->
      <div class="grid grid-cols-7 gap-px bg-gray-300 p-px">
        <ng-container *ngFor="let day of daysInMonth">
          <div
            *ngIf="day === null"
            class="bg-gray-100 min-h-32"
          ></div>

          <div
            *ngIf="day !== null"
            (click)="selectDate(day)"
            [class.bg-blue-100]="isToday(day)"
            [class.ring-2]="isToday(day)"
            [class.ring-blue-500]="isToday(day)"
            class="bg-white hover:bg-indigo-50 cursor-pointer transition-colors min-h-32 p-4 border-r border-b border-gray-300"
          >
            <div class="flex justify-between items-start mb-2">
              <span class="text-lg font-bold text-gray-800">{{ day }}</span>
              <span
                *ngIf="getCitasCountForDay(day) > 0"
                class="inline-block bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center"
              >
                {{ getCitasCountForDay(day) }}
              </span>
            </div>

            <!-- Mini vista de citas del día -->
            <div class="space-y-1">
              <ng-container *ngFor="let cita of getCitasForDay(day)">
                <div
                  [ngClass]="getColorForState(cita.estado)"
                  class="text-white text-xs p-1 rounded truncate"
                >
                  {{ cita.horarioFecha.horario.horaInicio.substring(0, 5) }} - {{ cita.paciente.nombre.split(' ')[0] }}
                </div>
              </ng-container>

              <div
                *ngIf="getCitasCountForDay(day) > 2"
                class="text-xs text-gray-500 px-1"
              >
                +{{ getCitasCountForDay(day) - 2 }} más
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>